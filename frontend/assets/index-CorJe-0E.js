import{_ as T,r as _,z as h,d as k,x as o,f as a,G as u,a2 as D,w as t,a7 as F,aY as L,n as s,C as G,I as w,a5 as I,a1 as M,H as U,t as n,e as i,aD as Y,aZ as z,j,R as H,a0 as O,X,Y as Z,v as q}from"./index-UXitE9cW.js";/* empty css                   *//* empty css                        *//* empty css                    *//* empty css                  *//* empty css               *//* empty css                  *//* empty css                *//* empty css                       */import{l as J,b as K}from"./statistics-DSTaTdVK.js";import{c as Q}from"./format-BQFyjrq8.js";const W={class:"app-container"},$={class:"card-header"},ee={key:3},te={style:{display:"flex","align-items":"center",gap:"8px"}},ae={style:{"font-weight":"500"}},le={key:3},se={style:{display:"flex","align-items":"center",gap:"8px"}},oe={style:{"font-weight":"500"}},ne={__name:"index",setup(re){const c=_("developer"),y=_("fixedCount"),m=_(!1),x=_([]),C=_([]),g=async()=>{m.value=!0;try{if(c.value==="developer"){const p=await J(y.value);x.value=p||[]}else{const p=await K();C.value=p||[]}}catch(p){console.error("åŠ è½½æŽ’è¡Œæ¦œæ•°æ®å¤±è´¥:",p),q.error("åŠ è½½æŽ’è¡Œæ¦œæ•°æ®å¤±è´¥")}finally{m.value=!1}},B=p=>p>=90?"#67c23a":p>=70?"#e6a23c":"#f56c6c";return h(()=>{g()}),(p,l)=>{const R=L,P=F,b=G,v=Z,S=X,d=U,r=M,E=Y,A=H,N=I,V=O;return o(),k("div",W,[a(b,{shadow:"never",style:{"margin-bottom":"20px"}},{default:t(()=>[a(P,{modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=e=>c.value=e),onChange:g},{default:t(()=>[a(R,{value:"developer"},{default:t(()=>[...l[2]||(l[2]=[s("å¼€å‘äººå‘˜æŽ’è¡Œæ¦œ",-1)])]),_:1}),a(R,{value:"security"},{default:t(()=>[...l[3]||(l[3]=[s("å®‰å…¨äººå‘˜æŽ’è¡Œæ¦œ",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),c.value==="developer"?(o(),u(b,{key:0,shadow:"never"},{header:t(()=>[i("div",$,[l[4]||(l[4]=i("span",{class:"card-title"},"å¼€å‘äººå‘˜æŽ’è¡Œæ¦œ",-1)),a(S,{modelValue:y.value,"onUpdate:modelValue":l[1]||(l[1]=e=>y.value=e),onChange:g,style:{width:"200px"}},{default:t(()=>[a(v,{label:"æŒ‰ä¿®å¤æ•°é‡",value:"fixedCount"}),a(v,{label:"æŒ‰åˆ†é…æ•°é‡",value:"assignedCount"}),a(v,{label:"æŒ‰å¹³å‡ä¿®å¤æ—¶é•¿",value:"avgFixDuration"}),a(v,{label:"æŒ‰å¤æµ‹é€šè¿‡çŽ‡",value:"retestPassRate"})]),_:1},8,["modelValue"])])]),default:t(()=>[w((o(),u(N,{data:x.value,border:"",stripe:""},{default:t(()=>[a(r,{type:"index",label:"æŽ’å",width:"80",align:"center"},{default:t(({$index:e})=>[e===0?(o(),u(d,{key:0,type:"danger",effect:"dark"},{default:t(()=>[...l[5]||(l[5]=[s("ðŸ¥‡",-1)])]),_:1})):e===1?(o(),u(d,{key:1,type:"warning",effect:"dark"},{default:t(()=>[...l[6]||(l[6]=[s("ðŸ¥ˆ",-1)])]),_:1})):e===2?(o(),u(d,{key:2,type:"success",effect:"dark"},{default:t(()=>[...l[7]||(l[7]=[s("ðŸ¥‰",-1)])]),_:1})):(o(),k("span",ee,n(e+1),1))]),_:1}),a(r,{label:"å¼€å‘äººå‘˜",prop:"username"},{default:t(({row:e})=>[i("div",te,[a(E,{size:32},{default:t(()=>{var f;return[s(n(((f=e.realName)==null?void 0:f.charAt(0))||e.username.charAt(0)),1)]}),_:2},1024),i("div",null,[i("div",ae,n(e.realName||e.username),1),i("div",{style:z([{"font-size":"12px"},{color:"var(--text-color-secondary)"}])},n(e.username),1)])])]),_:1}),a(r,{label:"éƒ¨é—¨",prop:"departmentName"}),a(r,{label:"åˆ†é…æ•°é‡",prop:"assignedCount",align:"center"},{default:t(({row:e})=>[a(d,null,{default:t(()=>[s(n(e.assignedCount||0),1)]),_:2},1024)]),_:1}),a(r,{label:"å·²ä¿®å¤",prop:"fixedCount",align:"center"},{default:t(({row:e})=>[a(d,{type:"success"},{default:t(()=>[s(n(e.fixedCount||0),1)]),_:2},1024)]),_:1}),a(r,{label:"å¹³å‡ä¿®å¤æ—¶é•¿",prop:"avgFixDuration",align:"center"},{default:t(({row:e})=>[s(n(j(Q)(e.avgFixDuration)),1)]),_:1}),a(r,{label:"å¤æµ‹é€šè¿‡çŽ‡",prop:"retestPassRate",align:"center"},{default:t(({row:e})=>[a(A,{percentage:e.retestPassRate||0,color:B(e.retestPassRate)},null,8,["percentage","color"])]),_:1}),a(r,{label:"æ€»é€€å›žæ¬¡æ•°",prop:"avgRetestRound",align:"center"},{default:t(({row:e})=>[e.avgRetestRound>0?(o(),u(d,{key:0,type:"danger"},{default:t(()=>[s(n(e.avgRetestRound||0),1)]),_:2},1024)):(o(),u(d,{key:1,type:"success"},{default:t(()=>[...l[8]||(l[8]=[s("0",-1)])]),_:1}))]),_:1})]),_:1},8,["data"])),[[V,m.value]])]),_:1})):D("",!0),c.value==="security"?(o(),u(b,{key:1,shadow:"never"},{header:t(()=>[...l[9]||(l[9]=[i("div",{class:"card-header"},[i("span",{class:"card-title"},"å®‰å…¨äººå‘˜æŽ’è¡Œæ¦œ")],-1)])]),default:t(()=>[w((o(),u(N,{data:C.value,border:"",stripe:""},{default:t(()=>[a(r,{type:"index",label:"æŽ’å",width:"80",align:"center"},{default:t(({$index:e})=>[e===0?(o(),u(d,{key:0,type:"danger",effect:"dark"},{default:t(()=>[...l[10]||(l[10]=[s("ðŸ¥‡",-1)])]),_:1})):e===1?(o(),u(d,{key:1,type:"warning",effect:"dark"},{default:t(()=>[...l[11]||(l[11]=[s("ðŸ¥ˆ",-1)])]),_:1})):e===2?(o(),u(d,{key:2,type:"success",effect:"dark"},{default:t(()=>[...l[12]||(l[12]=[s("ðŸ¥‰",-1)])]),_:1})):(o(),k("span",le,n(e+1),1))]),_:1}),a(r,{label:"å®‰å…¨äººå‘˜",prop:"username"},{default:t(({row:e})=>[i("div",se,[a(E,{size:32},{default:t(()=>{var f;return[s(n(((f=e.realName)==null?void 0:f.charAt(0))||e.username.charAt(0)),1)]}),_:2},1024),i("div",null,[i("div",oe,n(e.realName||e.username),1),i("div",{style:z([{"font-size":"12px"},{color:"var(--text-color-secondary)"}])},n(e.username),1)])])]),_:1}),a(r,{label:"éƒ¨é—¨",prop:"departmentName"}),a(r,{label:"æäº¤æ•°é‡",prop:"submittedCount",align:"center"},{default:t(({row:e})=>[a(d,{type:"primary"},{default:t(()=>[s(n(e.submittedCount||0),1)]),_:2},1024)]),_:1}),a(r,{label:"å¤æµ‹æ•°é‡",prop:"retestCount",align:"center"},{default:t(({row:e})=>[a(d,{type:"warning"},{default:t(()=>[s(n(e.retestCount||0),1)]),_:2},1024)]),_:1}),a(r,{label:"å…³é—­æ•°é‡",prop:"closedCount",align:"center"},{default:t(({row:e})=>[a(d,{type:"success"},{default:t(()=>[s(n(e.closedCount||0),1)]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[V,m.value]])]),_:1})):D("",!0)])}}},be=T(ne,[["__scopeId","data-v-764cb02b"]]);export{be as default};
