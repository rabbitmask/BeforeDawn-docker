import{_ as U,u as y,r as c,A as k,c as v,o as m,d as l,w as t,E as w,j as h,k as D,G as B,H as C,I as M,J as R,s as d,t as S,q as F,b as V,F as T,x as p}from"./index-IfYXXDZ7.js";/* empty css                *//* empty css                 *//* empty css               */import{u as A}from"./user-B7SXhY9J.js";const L={class:"app-container"},O={__name:"index",setup(P){const u=y(),e=c({username:"",realName:"",phone:"",email:"",departmentName:"",roles:[]}),i=c({}),_=()=>{const o=u.userInfo;o&&(e.value={username:o.username||"",realName:o.realName||"",phone:o.phone||"",email:o.email||"",departmentName:o.departmentName||"未分配",roles:u.roles||[]},i.value={...e.value})},N=o=>({ADMIN:"管理员",SECURITY:"安全人员",DEVELOPER:"开发人员",AUDITOR:"审计人员"})[o]||o,b=async()=>{try{await A({realName:e.value.realName,phone:e.value.phone,email:e.value.email}),await u.getInfo(),_(),p.success("个人信息更新成功")}catch(o){console.error("更新个人信息失败:",o),p.error(o.message||"更新个人信息失败")}},E=()=>{e.value={...i.value},p.info("已重置为原始数据")};return k(()=>{_()}),(o,a)=>{const s=D,r=h,x=R,f=F,g=w,I=T;return m(),v("div",L,[l(I,{shadow:"never"},{header:t(()=>[...a[5]||(a[5]=[V("div",{class:"card-header"},[V("span",{class:"card-title"},"个人信息")],-1)])]),default:t(()=>[l(g,{model:e.value,"label-width":"100px",style:{"max-width":"600px"}},{default:t(()=>[l(r,{label:"用户名"},{default:t(()=>[l(s,{modelValue:e.value.username,"onUpdate:modelValue":a[0]||(a[0]=n=>e.value.username=n),disabled:""},null,8,["modelValue"])]),_:1}),l(r,{label:"真实姓名"},{default:t(()=>[l(s,{modelValue:e.value.realName,"onUpdate:modelValue":a[1]||(a[1]=n=>e.value.realName=n),placeholder:"请输入真实姓名"},null,8,["modelValue"])]),_:1}),l(r,{label:"手机号"},{default:t(()=>[l(s,{modelValue:e.value.phone,"onUpdate:modelValue":a[2]||(a[2]=n=>e.value.phone=n),placeholder:"请输入手机号"},null,8,["modelValue"])]),_:1}),l(r,{label:"邮箱"},{default:t(()=>[l(s,{modelValue:e.value.email,"onUpdate:modelValue":a[3]||(a[3]=n=>e.value.email=n),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),l(r,{label:"部门"},{default:t(()=>[l(s,{modelValue:e.value.departmentName,"onUpdate:modelValue":a[4]||(a[4]=n=>e.value.departmentName=n),disabled:""},null,8,["modelValue"])]),_:1}),l(r,{label:"角色"},{default:t(()=>[(m(!0),v(B,null,C(e.value.roles,n=>(m(),M(x,{key:n,style:{"margin-right":"8px"}},{default:t(()=>[d(S(N(n)),1)]),_:2},1024))),128))]),_:1}),l(r,null,{default:t(()=>[l(f,{type:"primary",onClick:b},{default:t(()=>[...a[6]||(a[6]=[d("保存修改",-1)])]),_:1}),l(f,{onClick:E},{default:t(()=>[...a[7]||(a[7]=[d("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}},Y=U(O,[["__scopeId","data-v-f951953a"]]);export{Y as default};
