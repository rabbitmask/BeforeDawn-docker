import{_ as V,u as k,r as _,a as B,c as F,b as l,d as s,e as R,w as o,f as q,E as z,g as I,h,i as D,o as N,j as S,k as U,l as C,m as d,n as K,p as L,q as T,s as f,t as j,v as M,x as A}from"./index-CQ5fPb9W.js";/* empty css                *//* empty css                 */const G={class:"login-container"},H={class:"login-box"},J={class:"login-tips"},O={__name:"index",setup(P){const g=h(),v=D(),w=k(),t=_(null),r=_(!1),a=B({username:"",password:""}),x={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:4,max:20,message:"用户名长度4-20位",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度6-20位",trigger:"blur"}]},c=async()=>{t.value&&await t.value.validate(async m=>{if(m){r.value=!0;try{await w.login(a),A.success("登录成功");const e=v.query.redirect||"/";g.push(e)}catch(e){console.error("登录失败:",e)}finally{r.value=!1}}})};return(m,e)=>{const n=C,p=U,i=S,y=T,b=z,E=I;return N(),F("div",G,[e[5]||(e[5]=l("div",{class:"bg-decoration"},[l("div",{class:"circle circle-1"}),l("div",{class:"circle circle-2"}),l("div",{class:"circle circle-3"})],-1)),l("div",H,[e[3]||(e[3]=l("div",{class:"login-header"},[l("div",{class:"logo-wrapper"},[l("img",{src:R,alt:"Logo",class:"logo-img"})]),l("h1",null,"BeforeDawn"),l("p",null,"漏洞管理平台")],-1)),s(b,{ref_key:"loginFormRef",ref:t,model:a,rules:x,class:"login-form",onKeyup:q(c,["enter"])},{default:o(()=>[s(i,{prop:"username"},{default:o(()=>[s(p,{modelValue:a.username,"onUpdate:modelValue":e[0]||(e[0]=u=>a.username=u),placeholder:"请输入用户名",size:"large",clearable:""},{prefix:o(()=>[s(n,null,{default:o(()=>[s(d(K))]),_:1})]),_:1},8,["modelValue"])]),_:1}),s(i,{prop:"password"},{default:o(()=>[s(p,{modelValue:a.password,"onUpdate:modelValue":e[1]||(e[1]=u=>a.password=u),type:"password",placeholder:"请输入密码",size:"large","show-password":"",clearable:""},{prefix:o(()=>[s(n,null,{default:o(()=>[s(d(L))]),_:1})]),_:1},8,["modelValue"])]),_:1}),s(i,null,{default:o(()=>[s(y,{type:"primary",size:"large",loading:r.value,class:"login-button",onClick:c},{default:o(()=>[f(j(r.value?"登录中...":"登 录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),l("div",J,[s(E,{type:"info",size:"small"},{default:o(()=>[s(n,null,{default:o(()=>[s(d(M))]),_:1}),e[2]||(e[2]=f(" 技术支持：基建运维中心 ",-1))]),_:1})]),e[4]||(e[4]=l("div",{class:"login-footer"},[l("span",null,"BeforeDawn © 2025 基建运维中心")],-1))])])}}},Y=V(O,[["__scopeId","data-v-c469ff16"]]);export{Y as default};
