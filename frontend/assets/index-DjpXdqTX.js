import{_ as U,b as y,r as v,z as h,d as c,x as m,f as l,w as t,p as w,E as D,h as k,F as C,D as B,G as M,H as R,n as d,t as S,m as F,e as V,C as T,v as p}from"./index-nPQbSI0E.js";/* empty css                *//* empty css                 *//* empty css               */import{u as L}from"./user-6LrRYvI5.js";const A={class:"app-container"},O={__name:"index",setup(P){const u=y(),e=v({username:"",realName:"",phone:"",email:"",departmentName:"",roles:[]}),i=v({}),f=()=>{const o=u.userInfo;o&&(e.value={username:o.username||"",realName:o.realName||"",phone:o.phone||"",email:o.email||"",departmentName:o.departmentName||"未分配",roles:u.roles||[]},i.value={...e.value})},N=o=>({ADMIN:"管理员",SECURITY:"安全人员",DEVELOPER:"开发人员",AUDITOR:"审计人员"})[o]||o,b=async()=>{try{await L({realName:e.value.realName,phone:e.value.phone,email:e.value.email}),await u.getInfo(),f(),p.success("个人信息更新成功")}catch(o){console.error("更新个人信息失败:",o),p.error(o.message||"更新个人信息失败")}},E=()=>{e.value={...i.value},p.info("已重置为原始数据")};return h(()=>{f()}),(o,a)=>{const s=k,r=D,x=R,_=F,g=w,I=T;return m(),c("div",A,[l(I,{shadow:"never"},{header:t(()=>[...a[5]||(a[5]=[V("div",{class:"card-header"},[V("span",{class:"card-title"},"个人信息")],-1)])]),default:t(()=>[l(g,{model:e.value,"label-width":"100px",style:{"max-width":"600px"}},{default:t(()=>[l(r,{label:"用户名"},{default:t(()=>[l(s,{modelValue:e.value.username,"onUpdate:modelValue":a[0]||(a[0]=n=>e.value.username=n),disabled:""},null,8,["modelValue"])]),_:1}),l(r,{label:"真实姓名"},{default:t(()=>[l(s,{modelValue:e.value.realName,"onUpdate:modelValue":a[1]||(a[1]=n=>e.value.realName=n),placeholder:"请输入真实姓名"},null,8,["modelValue"])]),_:1}),l(r,{label:"手机号"},{default:t(()=>[l(s,{modelValue:e.value.phone,"onUpdate:modelValue":a[2]||(a[2]=n=>e.value.phone=n),placeholder:"请输入手机号"},null,8,["modelValue"])]),_:1}),l(r,{label:"邮箱"},{default:t(()=>[l(s,{modelValue:e.value.email,"onUpdate:modelValue":a[3]||(a[3]=n=>e.value.email=n),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),l(r,{label:"部门"},{default:t(()=>[l(s,{modelValue:e.value.departmentName,"onUpdate:modelValue":a[4]||(a[4]=n=>e.value.departmentName=n),disabled:""},null,8,["modelValue"])]),_:1}),l(r,{label:"角色"},{default:t(()=>[(m(!0),c(C,null,B(e.value.roles,n=>(m(),M(x,{key:n,style:{"margin-right":"8px"}},{default:t(()=>[d(S(N(n)),1)]),_:2},1024))),128))]),_:1}),l(r,null,{default:t(()=>[l(_,{type:"primary",onClick:b},{default:t(()=>[...a[6]||(a[6]=[d("保存修改",-1)])]),_:1}),l(_,{onClick:E},{default:t(()=>[...a[7]||(a[7]=[d("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}},q=U(O,[["__scopeId","data-v-f951953a"]]);export{q as default};
